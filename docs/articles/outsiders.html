<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Outsiders â€¢ outsiders</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Outsiders">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">outsiders</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/outsiders.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/applications.html">Applications</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dannymorris/outsiders">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Outsiders</h1>
                        <h4 class="author">Danny Morris</h4>
            
            <h4 class="date">2018-06-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/dannymorris/outsiders/blob/master/vignettes/outsiders.Rmd"><code>vignettes/outsiders.Rmd</code></a></small>
      <div class="hidden name"><code>outsiders.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<p><code>outsiders</code> is an unsupervised outlier detection package for use with standard multidimensional data. The <code>state.x77</code> data matrix containing 9 demographic characteristics of US states was used often for algorithm development and evaluation. Making use of the same data set, this vignette will provide code and visual analysis demonstrating methods available in the package.</p>
</div>
<div id="document-preparation" class="section level1">
<h1 class="hasAnchor">
<a href="#document-preparation" class="anchor"></a>Document Preparation</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># document dependencies</span>
<span class="kw">library</span>(outsiders)   <span class="co"># devtools::install_github("dannymorris/outsiders") to install</span>
<span class="kw">library</span>(dplyr)       <span class="co"># data manipualation (CRAN)</span>
<span class="kw">library</span>(tidyr)       <span class="co"># structural formatting and data standardization (CRAN)</span>
<span class="kw">library</span>(ggplot2)     <span class="co"># static data visualization (CRAN)</span>

<span class="kw">library</span>(knitr)       <span class="co"># document printing (eg tables) (CRAN)</span>
<span class="kw">library</span>(kableExtra)  <span class="co"># "kable" (table) formatting (CRAN)</span>

<span class="kw">library</span>(QuickR)      <span class="co"># another personal package with utility functions</span></code></pre></div>
</div>
<div id="demographic-data-on-us-states" class="section level1">
<h1 class="hasAnchor">
<a href="#demographic-data-on-us-states" class="anchor"></a>Demographic Data on US States</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">state.x77 <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">kable</span>()</code></pre></div>
<table class="table">
<thead><tr class="header">
<th></th>
<th align="right">Population</th>
<th align="right">Income</th>
<th align="right">Illiteracy</th>
<th align="right">Life Exp</th>
<th align="right">Murder</th>
<th align="right">HS Grad</th>
<th align="right">Frost</th>
<th align="right">Area</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Alabama</td>
<td align="right">3615</td>
<td align="right">3624</td>
<td align="right">2.1</td>
<td align="right">69.05</td>
<td align="right">15.1</td>
<td align="right">41.3</td>
<td align="right">20</td>
<td align="right">50708</td>
</tr>
<tr class="even">
<td>Alaska</td>
<td align="right">365</td>
<td align="right">6315</td>
<td align="right">1.5</td>
<td align="right">69.31</td>
<td align="right">11.3</td>
<td align="right">66.7</td>
<td align="right">152</td>
<td align="right">566432</td>
</tr>
<tr class="odd">
<td>Arizona</td>
<td align="right">2212</td>
<td align="right">4530</td>
<td align="right">1.8</td>
<td align="right">70.55</td>
<td align="right">7.8</td>
<td align="right">58.1</td>
<td align="right">15</td>
<td align="right">113417</td>
</tr>
<tr class="even">
<td>Arkansas</td>
<td align="right">2110</td>
<td align="right">3378</td>
<td align="right">1.9</td>
<td align="right">70.66</td>
<td align="right">10.1</td>
<td align="right">39.9</td>
<td align="right">65</td>
<td align="right">51945</td>
</tr>
<tr class="odd">
<td>California</td>
<td align="right">21198</td>
<td align="right">5114</td>
<td align="right">1.1</td>
<td align="right">71.71</td>
<td align="right">10.3</td>
<td align="right">62.6</td>
<td align="right">20</td>
<td align="right">156361</td>
</tr>
<tr class="even">
<td>Colorado</td>
<td align="right">2541</td>
<td align="right">4884</td>
<td align="right">0.7</td>
<td align="right">72.06</td>
<td align="right">6.8</td>
<td align="right">63.9</td>
<td align="right">166</td>
<td align="right">103766</td>
</tr>
<tr class="odd">
<td>Connecticut</td>
<td align="right">3100</td>
<td align="right">5348</td>
<td align="right">1.1</td>
<td align="right">72.48</td>
<td align="right">3.1</td>
<td align="right">56.0</td>
<td align="right">139</td>
<td align="right">4862</td>
</tr>
<tr class="even">
<td>Delaware</td>
<td align="right">579</td>
<td align="right">4809</td>
<td align="right">0.9</td>
<td align="right">70.06</td>
<td align="right">6.2</td>
<td align="right">54.6</td>
<td align="right">103</td>
<td align="right">1982</td>
</tr>
<tr class="odd">
<td>Florida</td>
<td align="right">8277</td>
<td align="right">4815</td>
<td align="right">1.3</td>
<td align="right">70.66</td>
<td align="right">10.7</td>
<td align="right">52.6</td>
<td align="right">11</td>
<td align="right">54090</td>
</tr>
<tr class="even">
<td>Georgia</td>
<td align="right">4931</td>
<td align="right">4091</td>
<td align="right">2.0</td>
<td align="right">68.54</td>
<td align="right">13.9</td>
<td align="right">40.6</td>
<td align="right">60</td>
<td align="right">58073</td>
</tr>
<tr class="odd">
<td>Hawaii</td>
<td align="right">868</td>
<td align="right">4963</td>
<td align="right">1.9</td>
<td align="right">73.60</td>
<td align="right">6.2</td>
<td align="right">61.9</td>
<td align="right">0</td>
<td align="right">6425</td>
</tr>
<tr class="even">
<td>Idaho</td>
<td align="right">813</td>
<td align="right">4119</td>
<td align="right">0.6</td>
<td align="right">71.87</td>
<td align="right">5.3</td>
<td align="right">59.5</td>
<td align="right">126</td>
<td align="right">82677</td>
</tr>
<tr class="odd">
<td>Illinois</td>
<td align="right">11197</td>
<td align="right">5107</td>
<td align="right">0.9</td>
<td align="right">70.14</td>
<td align="right">10.3</td>
<td align="right">52.6</td>
<td align="right">127</td>
<td align="right">55748</td>
</tr>
<tr class="even">
<td>Indiana</td>
<td align="right">5313</td>
<td align="right">4458</td>
<td align="right">0.7</td>
<td align="right">70.88</td>
<td align="right">7.1</td>
<td align="right">52.9</td>
<td align="right">122</td>
<td align="right">36097</td>
</tr>
<tr class="odd">
<td>Iowa</td>
<td align="right">2861</td>
<td align="right">4628</td>
<td align="right">0.5</td>
<td align="right">72.56</td>
<td align="right">2.3</td>
<td align="right">59.0</td>
<td align="right">140</td>
<td align="right">55941</td>
</tr>
<tr class="even">
<td>Kansas</td>
<td align="right">2280</td>
<td align="right">4669</td>
<td align="right">0.6</td>
<td align="right">72.58</td>
<td align="right">4.5</td>
<td align="right">59.9</td>
<td align="right">114</td>
<td align="right">81787</td>
</tr>
<tr class="odd">
<td>Kentucky</td>
<td align="right">3387</td>
<td align="right">3712</td>
<td align="right">1.6</td>
<td align="right">70.10</td>
<td align="right">10.6</td>
<td align="right">38.5</td>
<td align="right">95</td>
<td align="right">39650</td>
</tr>
<tr class="even">
<td>Louisiana</td>
<td align="right">3806</td>
<td align="right">3545</td>
<td align="right">2.8</td>
<td align="right">68.76</td>
<td align="right">13.2</td>
<td align="right">42.2</td>
<td align="right">12</td>
<td align="right">44930</td>
</tr>
<tr class="odd">
<td>Maine</td>
<td align="right">1058</td>
<td align="right">3694</td>
<td align="right">0.7</td>
<td align="right">70.39</td>
<td align="right">2.7</td>
<td align="right">54.7</td>
<td align="right">161</td>
<td align="right">30920</td>
</tr>
<tr class="even">
<td>Maryland</td>
<td align="right">4122</td>
<td align="right">5299</td>
<td align="right">0.9</td>
<td align="right">70.22</td>
<td align="right">8.5</td>
<td align="right">52.3</td>
<td align="right">101</td>
<td align="right">9891</td>
</tr>
<tr class="odd">
<td>Massachusetts</td>
<td align="right">5814</td>
<td align="right">4755</td>
<td align="right">1.1</td>
<td align="right">71.83</td>
<td align="right">3.3</td>
<td align="right">58.5</td>
<td align="right">103</td>
<td align="right">7826</td>
</tr>
<tr class="even">
<td>Michigan</td>
<td align="right">9111</td>
<td align="right">4751</td>
<td align="right">0.9</td>
<td align="right">70.63</td>
<td align="right">11.1</td>
<td align="right">52.8</td>
<td align="right">125</td>
<td align="right">56817</td>
</tr>
<tr class="odd">
<td>Minnesota</td>
<td align="right">3921</td>
<td align="right">4675</td>
<td align="right">0.6</td>
<td align="right">72.96</td>
<td align="right">2.3</td>
<td align="right">57.6</td>
<td align="right">160</td>
<td align="right">79289</td>
</tr>
<tr class="even">
<td>Mississippi</td>
<td align="right">2341</td>
<td align="right">3098</td>
<td align="right">2.4</td>
<td align="right">68.09</td>
<td align="right">12.5</td>
<td align="right">41.0</td>
<td align="right">50</td>
<td align="right">47296</td>
</tr>
<tr class="odd">
<td>Missouri</td>
<td align="right">4767</td>
<td align="right">4254</td>
<td align="right">0.8</td>
<td align="right">70.69</td>
<td align="right">9.3</td>
<td align="right">48.8</td>
<td align="right">108</td>
<td align="right">68995</td>
</tr>
<tr class="even">
<td>Montana</td>
<td align="right">746</td>
<td align="right">4347</td>
<td align="right">0.6</td>
<td align="right">70.56</td>
<td align="right">5.0</td>
<td align="right">59.2</td>
<td align="right">155</td>
<td align="right">145587</td>
</tr>
<tr class="odd">
<td>Nebraska</td>
<td align="right">1544</td>
<td align="right">4508</td>
<td align="right">0.6</td>
<td align="right">72.60</td>
<td align="right">2.9</td>
<td align="right">59.3</td>
<td align="right">139</td>
<td align="right">76483</td>
</tr>
<tr class="even">
<td>Nevada</td>
<td align="right">590</td>
<td align="right">5149</td>
<td align="right">0.5</td>
<td align="right">69.03</td>
<td align="right">11.5</td>
<td align="right">65.2</td>
<td align="right">188</td>
<td align="right">109889</td>
</tr>
<tr class="odd">
<td>New Hampshire</td>
<td align="right">812</td>
<td align="right">4281</td>
<td align="right">0.7</td>
<td align="right">71.23</td>
<td align="right">3.3</td>
<td align="right">57.6</td>
<td align="right">174</td>
<td align="right">9027</td>
</tr>
<tr class="even">
<td>New Jersey</td>
<td align="right">7333</td>
<td align="right">5237</td>
<td align="right">1.1</td>
<td align="right">70.93</td>
<td align="right">5.2</td>
<td align="right">52.5</td>
<td align="right">115</td>
<td align="right">7521</td>
</tr>
<tr class="odd">
<td>New Mexico</td>
<td align="right">1144</td>
<td align="right">3601</td>
<td align="right">2.2</td>
<td align="right">70.32</td>
<td align="right">9.7</td>
<td align="right">55.2</td>
<td align="right">120</td>
<td align="right">121412</td>
</tr>
<tr class="even">
<td>New York</td>
<td align="right">18076</td>
<td align="right">4903</td>
<td align="right">1.4</td>
<td align="right">70.55</td>
<td align="right">10.9</td>
<td align="right">52.7</td>
<td align="right">82</td>
<td align="right">47831</td>
</tr>
<tr class="odd">
<td>North Carolina</td>
<td align="right">5441</td>
<td align="right">3875</td>
<td align="right">1.8</td>
<td align="right">69.21</td>
<td align="right">11.1</td>
<td align="right">38.5</td>
<td align="right">80</td>
<td align="right">48798</td>
</tr>
<tr class="even">
<td>North Dakota</td>
<td align="right">637</td>
<td align="right">5087</td>
<td align="right">0.8</td>
<td align="right">72.78</td>
<td align="right">1.4</td>
<td align="right">50.3</td>
<td align="right">186</td>
<td align="right">69273</td>
</tr>
<tr class="odd">
<td>Ohio</td>
<td align="right">10735</td>
<td align="right">4561</td>
<td align="right">0.8</td>
<td align="right">70.82</td>
<td align="right">7.4</td>
<td align="right">53.2</td>
<td align="right">124</td>
<td align="right">40975</td>
</tr>
<tr class="even">
<td>Oklahoma</td>
<td align="right">2715</td>
<td align="right">3983</td>
<td align="right">1.1</td>
<td align="right">71.42</td>
<td align="right">6.4</td>
<td align="right">51.6</td>
<td align="right">82</td>
<td align="right">68782</td>
</tr>
<tr class="odd">
<td>Oregon</td>
<td align="right">2284</td>
<td align="right">4660</td>
<td align="right">0.6</td>
<td align="right">72.13</td>
<td align="right">4.2</td>
<td align="right">60.0</td>
<td align="right">44</td>
<td align="right">96184</td>
</tr>
<tr class="even">
<td>Pennsylvania</td>
<td align="right">11860</td>
<td align="right">4449</td>
<td align="right">1.0</td>
<td align="right">70.43</td>
<td align="right">6.1</td>
<td align="right">50.2</td>
<td align="right">126</td>
<td align="right">44966</td>
</tr>
<tr class="odd">
<td>Rhode Island</td>
<td align="right">931</td>
<td align="right">4558</td>
<td align="right">1.3</td>
<td align="right">71.90</td>
<td align="right">2.4</td>
<td align="right">46.4</td>
<td align="right">127</td>
<td align="right">1049</td>
</tr>
<tr class="even">
<td>South Carolina</td>
<td align="right">2816</td>
<td align="right">3635</td>
<td align="right">2.3</td>
<td align="right">67.96</td>
<td align="right">11.6</td>
<td align="right">37.8</td>
<td align="right">65</td>
<td align="right">30225</td>
</tr>
<tr class="odd">
<td>South Dakota</td>
<td align="right">681</td>
<td align="right">4167</td>
<td align="right">0.5</td>
<td align="right">72.08</td>
<td align="right">1.7</td>
<td align="right">53.3</td>
<td align="right">172</td>
<td align="right">75955</td>
</tr>
<tr class="even">
<td>Tennessee</td>
<td align="right">4173</td>
<td align="right">3821</td>
<td align="right">1.7</td>
<td align="right">70.11</td>
<td align="right">11.0</td>
<td align="right">41.8</td>
<td align="right">70</td>
<td align="right">41328</td>
</tr>
<tr class="odd">
<td>Texas</td>
<td align="right">12237</td>
<td align="right">4188</td>
<td align="right">2.2</td>
<td align="right">70.90</td>
<td align="right">12.2</td>
<td align="right">47.4</td>
<td align="right">35</td>
<td align="right">262134</td>
</tr>
<tr class="even">
<td>Utah</td>
<td align="right">1203</td>
<td align="right">4022</td>
<td align="right">0.6</td>
<td align="right">72.90</td>
<td align="right">4.5</td>
<td align="right">67.3</td>
<td align="right">137</td>
<td align="right">82096</td>
</tr>
<tr class="odd">
<td>Vermont</td>
<td align="right">472</td>
<td align="right">3907</td>
<td align="right">0.6</td>
<td align="right">71.64</td>
<td align="right">5.5</td>
<td align="right">57.1</td>
<td align="right">168</td>
<td align="right">9267</td>
</tr>
<tr class="even">
<td>Virginia</td>
<td align="right">4981</td>
<td align="right">4701</td>
<td align="right">1.4</td>
<td align="right">70.08</td>
<td align="right">9.5</td>
<td align="right">47.8</td>
<td align="right">85</td>
<td align="right">39780</td>
</tr>
<tr class="odd">
<td>Washington</td>
<td align="right">3559</td>
<td align="right">4864</td>
<td align="right">0.6</td>
<td align="right">71.72</td>
<td align="right">4.3</td>
<td align="right">63.5</td>
<td align="right">32</td>
<td align="right">66570</td>
</tr>
<tr class="even">
<td>West Virginia</td>
<td align="right">1799</td>
<td align="right">3617</td>
<td align="right">1.4</td>
<td align="right">69.48</td>
<td align="right">6.7</td>
<td align="right">41.6</td>
<td align="right">100</td>
<td align="right">24070</td>
</tr>
<tr class="odd">
<td>Wisconsin</td>
<td align="right">4589</td>
<td align="right">4468</td>
<td align="right">0.7</td>
<td align="right">72.48</td>
<td align="right">3.0</td>
<td align="right">54.5</td>
<td align="right">149</td>
<td align="right">54464</td>
</tr>
<tr class="even">
<td>Wyoming</td>
<td align="right">376</td>
<td align="right">4566</td>
<td align="right">0.6</td>
<td align="right">70.29</td>
<td align="right">6.9</td>
<td align="right">62.9</td>
<td align="right">173</td>
<td align="right">97203</td>
</tr>
</tbody>
</table>
<div id="variable-scaling" class="section level3">
<h3 class="hasAnchor">
<a href="#variable-scaling" class="anchor"></a>Variable Scaling</h3>
<p>The standard variable scaling convention is to subtract the variable mean from each observation and divide by standard deviation. Doing so eliminates the undesirable influence of variables measured on larger and wider scales, such as Population (in thousands) compared to HS Grad (percent between 0 and 100).</p>
<p><span class="math display">\[X scaled = (X - mean(X))  /  sd(X)) \]</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data_scaled &lt;-<span class="st"> </span><span class="kw">scale</span>(state.x77)</code></pre></div>
</div>
</div>
<div id="exploratory-univariate-analysis" class="section level1">
<h1 class="hasAnchor">
<a href="#exploratory-univariate-analysis" class="anchor"></a>Exploratory Univariate Analysis</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">3</span>),
    <span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>))

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">ncol</span>(state.x77)) {
    <span class="kw">plot</span>(<span class="kw">density</span>(state.x77[, i]), <span class="dt">xlab =</span> <span class="st">""</span>, <span class="dt">main =</span> <span class="kw">colnames</span>(state.x77)[i])
    <span class="kw">points</span>(<span class="dt">x =</span> state.x77[, i], <span class="dt">y =</span> <span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">50</span>), 
           <span class="dt">col =</span> QuickR<span class="op">::</span><span class="kw">add_alpha</span>(<span class="st">"red"</span>, <span class="fl">0.5</span>), <span class="dt">pch =</span> <span class="dv">21</span>)
}</code></pre></div>
<p><img src="outsiders_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>The density plot matrix shows an interesting combination of skewed, normal, and multi-modal distributions. Outliers are evident in univariate visual analysis and are likely evident in the multivariate sense.</p>
</div>
<div id="multivariate-visualization-of-principal-components" class="section level1">
<h1 class="hasAnchor">
<a href="#multivariate-visualization-of-principal-components" class="anchor"></a>Multivariate Visualization of Principal Components</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">principal_components &lt;-<span class="st"> </span><span class="kw">princomp</span>(data_scaled)
<span class="kw">summary</span>(principal_components, <span class="dt">loadings =</span> T)</code></pre></div>
<pre><code>## Importance of components:
##                           Comp.1    Comp.2    Comp.3     Comp.4     Comp.5
## Standard deviation     1.8780090 1.2646268 1.0438881 0.83267888 0.61396161
## Proportion of Variance 0.4498619 0.2039899 0.1389926 0.08843803 0.04808021
## Cumulative Proportion  0.4498619 0.6538519 0.7928445 0.88128252 0.92936273
##                            Comp.6    Comp.7     Comp.8
## Standard deviation     0.54891933 0.3762443 0.33305246
## Proportion of Variance 0.03843271 0.0180561 0.01414846
## Cumulative Proportion  0.96779544 0.9858515 1.00000000
## 
## Loadings:
##            Comp.1 Comp.2 Comp.3 Comp.4 Comp.5 Comp.6 Comp.7 Comp.8
## Population -0.126  0.411  0.656  0.409 -0.406                0.219
## Income      0.299  0.519  0.100         0.638  0.462              
## Illiteracy -0.468               -0.353         0.387 -0.620  0.339
## Life Exp    0.412         0.360 -0.443 -0.327  0.219 -0.256 -0.527
## Murder     -0.444  0.307 -0.108  0.166  0.128 -0.325 -0.295 -0.678
## HS Grad     0.425  0.299        -0.232        -0.645 -0.393  0.307
## Frost       0.357 -0.154 -0.387  0.619 -0.217  0.213 -0.472       
## Area               0.588 -0.510 -0.201 -0.499  0.148  0.286</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pca_scores &lt;-<span class="st"> </span>principal_components<span class="op">$</span>scores[, <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>]

<span class="kw">pairs</span>(pca_scores, <span class="dt">main =</span> <span class="st">"Principal Components 1-4 Explaining </span><span class="ch">\n</span><span class="st">88% of Total Variation"</span>)</code></pre></div>
<p><img src="outsiders_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<p>Visual analysis of the first four principal components reveals the presence of multivariate outliers along with insights into the spatial arrangement of the data points.</p>
</div>
<div id="assessment-of-multivariate-normality" class="section level1">
<h1 class="hasAnchor">
<a href="#assessment-of-multivariate-normality" class="anchor"></a>Assessment of Multivariate Normality</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">chisq_distances &lt;-<span class="st"> </span>outsiders<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/outsiders/topics/chisq_mvn">chisq_mvn</a></span>(data_scaled)

<span class="kw">plot</span>(chisq <span class="op">~</span><span class="st"> </span>distances, <span class="dt">data =</span> chisq_distances, 
     <span class="dt">main =</span> <span class="st">"Multivariate Ordered Chi-Squared Distances"</span>)
<span class="kw">abline</span>(<span class="kw">lm</span>(chisq <span class="op">~</span><span class="st"> </span>distances, <span class="dt">data =</span> chisq_distances), <span class="dt">lty =</span> <span class="dv">2</span>)</code></pre></div>
<p><img src="outsiders_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>The data appears largely non-normal in the multivariate sense.</p>
</div>
<div id="outlier-detection" class="section level1">
<h1 class="hasAnchor">
<a href="#outlier-detection" class="anchor"></a>Outlier Detection</h1>
<hr>
<div id="attribute-wise-learning" class="section level2">
<h2 class="hasAnchor">
<a href="#attribute-wise-learning" class="anchor"></a>Attribute-Wise Learning</h2>
<p>The <code>also</code> function implements Attribute-Wise Learning for Scoring Outliers (ALSO), which combines supervised and unsupervised learning to score outliers using dependent variable modeling of all features. For each variable in the original data set, a supervised model (classification or regression) is fit using the remaining variables as predictors. Outlier scores reflect the distance of the predicted value for a given observation to its actual value. Outlier scores are then summed to provide a single score suitable for extreme-value analysis.</p>
<div id="random-forest" class="section level3">
<h3 class="hasAnchor">
<a href="#random-forest" class="anchor"></a>Random Forest</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">also_rand_forest &lt;-<span class="st"> </span>outsiders<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/outsiders/topics/also">also</a></span>(<span class="dt">data =</span> data_scaled,
                                    <span class="dt">method =</span> randomForest<span class="op">::</span>randomForest,
                                    <span class="dt">cross_validate =</span> <span class="ot">FALSE</span>,
                                    <span class="dt">scores_only =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## Warning: package 'bindrcpp' was built under R version 3.4.4</code></pre>
<p>We will use this custom function to automate and standardize visualizations of outlier scores again the first four principal components.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">plot_score &lt;-<span class="st"> </span><span class="cf">function</span>(score, <span class="dt">formula =</span> Comp.<span class="dv">2</span> <span class="op">~</span><span class="st"> </span>Comp.<span class="dv">1</span>, <span class="dt">data =</span> pca_scores, 
                       <span class="dt">low =</span> <span class="st">"grey90"</span>, <span class="dt">high =</span> <span class="st">"blue"</span>, ...) {
    colors &lt;-<span class="st"> </span><span class="kw">colorRamp</span>(<span class="kw">c</span>(low, high))
    mapping &lt;-<span class="st"> </span><span class="kw">rgb</span>(<span class="kw">colors</span>(score <span class="op">/</span><span class="st"> </span><span class="kw">max</span>(score)), <span class="dt">maxColorValue =</span> <span class="dv">255</span>) 
    
    <span class="kw">pairs</span>(pca_scores, <span class="dt">pch =</span> <span class="dv">19</span>,
         <span class="dt">col =</span> QuickR<span class="op">::</span><span class="kw">add_alpha</span>(mapping, <span class="fl">0.85</span>), ...)
}

<span class="kw">plot_score</span>(also_rand_forest, <span class="dt">main =</span> <span class="st">"ALSO with Random Forests"</span>)</code></pre></div>
<p><img src="outsiders_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
<div id="ordinary-least-squares" class="section level3">
<h3 class="hasAnchor">
<a href="#ordinary-least-squares" class="anchor"></a>Ordinary Least Squares</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">also_lm &lt;-<span class="st"> </span>outsiders<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/outsiders/topics/also">also</a></span>(<span class="dt">data =</span> data_scaled,
                           <span class="dt">method =</span> lm,
                           <span class="dt">cross_validate =</span> <span class="ot">TRUE</span>,
                           <span class="dt">n_folds =</span> <span class="dv">10</span>,
                           <span class="dt">scores_only =</span> <span class="ot">TRUE</span>)

<span class="kw">plot_score</span>(also_lm, <span class="dt">main =</span> <span class="st">"ALSO with OLS"</span>)</code></pre></div>
<p><img src="outsiders_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
</div>
</div>
<div id="proximity-based-scoring" class="section level2">
<h2 class="hasAnchor">
<a href="#proximity-based-scoring" class="anchor"></a>Proximity-based Scoring</h2>
<hr>
<p>This section will show two variations of k-nearest neighbors.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">average_5nn &lt;-<span class="st"> </span>outsiders<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/outsiders/topics/aggregate_knn">aggregate_knn</a></span>(data_scaled, <span class="dt">fun =</span> mean, <span class="dt">k =</span> <span class="dv">5</span>)</code></pre></div>
<pre><code>## Warning in outsiders::aggregate_knn(data_scaled, fun = mean, k = 5): Data
## not a distance matrix. Euclidean distance matrix computed by default.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">harmonic_5nn &lt;-<span class="st"> </span>outsiders<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/outsiders/topics/aggregate_knn">aggregate_knn</a></span>(data_scaled, <span class="dt">fun =</span> QuickR<span class="op">::</span>harmonic_mean, 
                                         <span class="kw">nrow</span>(data_scaled))</code></pre></div>
<pre><code>## Warning in outsiders::aggregate_knn(data_scaled, fun =
## QuickR::harmonic_mean, : Data not a distance matrix. Euclidean distance
## matrix computed by default.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot_score</span>(average_5nn, <span class="dt">main =</span> <span class="st">"Mean Euclidean Distance</span><span class="ch">\n</span><span class="st"> 5-Nearest Neighbors"</span>)</code></pre></div>
<p><img src="outsiders_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot_score</span>(harmonic_5nn, <span class="dt">main =</span> <span class="st">"Harmonic Mean Euclidean Distance</span><span class="ch">\n</span><span class="st"> N-Nearest Neighbors"</span>)</code></pre></div>
<p><img src="outsiders_files/figure-html/unnamed-chunk-11-2.png" width="700"></p>
<p>Compared to the average Euclidean 5-nearest neightbors outlier score the harmonic mean variation seemingly detects more noise.</p>
</div>
<div id="cluster-based-scoring" class="section level2">
<h2 class="hasAnchor">
<a href="#cluster-based-scoring" class="anchor"></a>Cluster-Based Scoring</h2>
</div>
<div id="pca-rotation-forest" class="section level2">
<h2 class="hasAnchor">
<a href="#pca-rotation-forest" class="anchor"></a>PCA Rotation Forest</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pca_forest &lt;-<span class="st"> </span>outsiders<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/outsiders/topics/pca_bag">pca_bag</a></span>(<span class="dt">data =</span> data_scaled,
                                 <span class="dt">outlier_fun =</span> <span class="cf">function</span>(x) <span class="kw">mahalanobis</span>(x, <span class="kw">colMeans</span>(x), <span class="kw">cov</span>(x)))</code></pre></div>
<pre><code>## Warning in outsiders::pca_bag(data = data_scaled, outlier_fun = function(x)
## mahalanobis(x, : n_iterations not specified. Defaults to 50</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot_score</span>(pca_forest, <span class="dt">main =</span> <span class="st">"50-Bag PCA Rotation Forest Combining</span><span class="ch">\n</span><span class="st"> Mahalanobis Distance Scores"</span>)</code></pre></div>
<p><img src="outsiders_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#overview">Overview</a></li>
      <li><a href="#document-preparation">Document Preparation</a></li>
      <li><a href="#demographic-data-on-us-states">Demographic Data on US States</a></li>
      <li><a href="#exploratory-univariate-analysis">Exploratory Univariate Analysis</a></li>
      <li><a href="#multivariate-visualization-of-principal-components">Multivariate Visualization of Principal Components</a></li>
      <li><a href="#assessment-of-multivariate-normality">Assessment of Multivariate Normality</a></li>
      <li>
<a href="#outlier-detection">Outlier Detection</a><ul class="nav nav-pills nav-stacked">
<li><a href="#attribute-wise-learning">Attribute-Wise Learning</a></li>
      <li><a href="#proximity-based-scoring">Proximity-based Scoring</a></li>
      <li><a href="#cluster-based-scoring">Cluster-Based Scoring</a></li>
      <li><a href="#pca-rotation-forest">PCA Rotation Forest</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Danny Morris.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
